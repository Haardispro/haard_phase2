# Buffer Overflow 0  

Description
Let's start off simple, can you overflow the correct buffer? The program is available here. You can view source here.

Connect using:
`nc saturn.picoctf.net 55573`

I was given two files, namely `vuln` and `vuln.c`. 
`vuln` is a binary executable file, whereas `vuln.c` is a basic c file. 

Contents of `vuln.c`:
```C
#include <signal.h>

#define FLAGSIZE_MAX 64

char flag[FLAGSIZE_MAX];

void sigsegv_handler(int sig) {
  printf("%s\n", flag);
  fflush(stdout);
  exit(1);
}

void vuln(char *input){
  char buf2[16];
  strcpy(buf2, input);
}

int main(int argc, char **argv){

  FILE *f = fopen("flag.txt","r");
  if (f == NULL) {
    printf("%s %s", "Please create 'flag.txt' in this directory with your",
                    "own debugging flag.\n");
    exit(0);
  }

  fgets(flag,FLAGSIZE_MAX,f);
  signal(SIGSEGV, sigsegv_handler); // Set up signal handler

  gid_t gid = getegid();
  setresgid(gid, gid, gid);


  printf("Input: ");
  fflush(stdout);
  char buf1[100];
  gets(buf1);
  vuln(buf1);
  printf("The program will exit now\n");
  return 0;
}
```


On running `nc saturn.picoctf.net 55573` ,  the program showed me `Input: ` and I gave random input and the program exited. 

On further inspection in `vuln.c`, I could see `char buf1[100]`. Which meant `buf1` or buffer 1 was allocated a size of 100 chars. 

The first hint of the problem told me to look at the man page for the `gets` function.
So I did just that. 

On reading its description I found this: 
![buff_ovrflw_desc](assets/buff_ovrflw_desc.png)

On looking at the BUGS section: 

![buff_ovrflw_bugs](assets/buff_ovrflw_bugs.png)

What this meant is that the `gets` function does not check for buffer overflow and gives output even if the given limit is exceeded. This is a critical security issue and is used for exploitation. 

On passing input of more than 100 chars, the program gave out the flag. 

![buff_ovrflw_flag](assets/buff_ovrflw_flag.png)

Flag: `picoCTF{ov3rfl0ws_ar3nt_that-bad_c5ca6248}`

---
# Format String 0 




---

# Clutter Overflow 

